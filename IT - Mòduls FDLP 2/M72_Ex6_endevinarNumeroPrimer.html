<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mòdul 7.2 - Exercici 6</title>
</head>
<htl>
    <!--L’usuari ha d’introduir números fins que introdueixi un nombre primer. En el moment que l’usuari introdueixi un nombre primer, el programa ha de treure per pantalla el següent missatge: Exacte, el número “x” és primer! Nota: Utilitzar el mètode creat a l'exercici: (M7.2.) Exercici 5 -->

<h3>Busquem números primers </h3>

<br/><br/>

<label for="num" >Introdueix un número per veure si encertes és primer o no: </label>
<input type="number" id="num" maxlength= "4" size="8" />
<br/> <br/>
<input type="button" id="boto" onClick="validacio()" value="Clica i calculem..."/>
<br/><br/>
<p id="resultat"></p>

    <script>
        "use strict";

        //Funció auxiliar
        function calcPrimer(num){

            let i=2, primer = true;

            while (primer && i < num) {

                if (num % i == 0)
                primer = false;
                i++;
            }
            return primer;
        }

        //Funció principal
        function main(num){

            //Sortida de dades
            let resultat = calcPrimer(num);

            if (resultat){
                document.getElementById("resultat").innerHTML = "El número introduït, que és el <strong>" +num+ "</strong>, <strong> SÍ </strong> és primer. L'has encertat!";
                document.getElementById("boto").disabled = true;

            }else{
                document.getElementById("resultat").innerHTML = "El número introduït, que és el <strong>" +num+ "</strong>, <strong> NO </strong> és primer. No l'has encertat";  

            }
        }

        //Funció validació
        function validacio(){
            
            let validacio = true;
            let msgError = "Introdueix les dades correctament. \nClica 'D'acord' i torna-les a introduir, sisplau."

            let num = Number(document.getElementById("num").value);

            if (isNaN(num) || num =="" || num <=0) {
                validacio = false;
                document.getElementById("num").value = "";
            } 

            if (validacio) {
                main(num);

            } else {
                alert(msgError);  

            }
        }

    </script>
</p>
</html>
