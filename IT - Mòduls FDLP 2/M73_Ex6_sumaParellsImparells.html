<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>Mòdul 7.3 - Exercici 6</title>
  </head>
  <body>
    <!--Donat un array de números, el programa ha de mostrar la suma de tots els números parells i la suma de tots els números imparells.-->
    <h2>Sumes en array de números:</h2>
    <label for="serie"
      ><b>Introdueix una sèrie de números enters separats per espais:</b>
      <input type="text" id="serie" size="60"
    /></label>
    <br /><br />
    <input type="radio" id="parells" name="selector" />
    <label for="sumParells">Suma dels números parells dins de l'array:</label>
    <input type="text" id="sumParells" size="8" />
    <br /><br />
    <input type="radio" id="imparells" name="selector" />
    <label for="sumImparells"
      >Suma dels números imparells dins de l'array:</label
    >
    <input type="text" id="sumImparells" size="8" />
    <br /><br />
    <button onClick="validacio()">Clica aquí</button>
    <button onClick="netejarCamps()">Esborrar camps</button>
    <p id="avís"></p>

    <script>
      'use Strict';
      //Funció de suma dels parells
      function sumaParells(array) {
        let i,
          element = '',
          sumaPar = 0;
        for (i = 0; i <= array.length - 1; i++) {
          element = Number(array[i]);
          if (element % 2 == 0) {
            sumaPar += element;
          }
        }
        return sumaPar;
      }

      //Funció de suma dels imparells
      function sumaImparells(array) {
        let i,
          element = '',
          sumaImp = 0;
        for (i = 0; i <= array.length - 1; i++) {
          element = Number(array[i]);
          if (element % 2 !== 0) {
            sumaImp += element;
          }
        }
        return sumaImp;
      }

      //Funció principal
      function main(serie) {
        //Creació array
        let array = serie.split(' ');
        //Gestió amb funcions
        let parells = document.getElementById('parells').checked;
        let resultat =
          parells == true ? sumaParells(array) : sumaImparells(array);

        //Sortida de resultats
        //Resultat final
        if (parells == true) {
          document.getElementById('sumParells').value = resultat;
          document.getElementById('sumImparells').value = '';
        } else {
          document.getElementById('sumParells').value = '';
          document.getElementById('sumImparells').value = resultat;
        }
      }

      //Funció Validació
      function validacio() {
        //Esborra pantalla
        document.getElementById('avís').value = '';
        //Entrada dada
        let serie = document.getElementById('serie').value;

        //Validació
        let validacio;
        if (serie == '') {
          validacio = false;
          document.getElementById('serie').style.background = '#E6B0AA';
          document.getElementById('serie').value = '';
          document.getElementById('avís').innerHTML =
            '<b>Escriviu les dades correctament</b>';
        } else {
          validacio = true;
          document.getElementById('serie').style.background = 'white';
          main(serie);
        }
      }

      function netejarCamps() {
        //Esborra pantalla
        document.getElementById('serie').value = '';
        document.getElementById('serie').style.background = 'white';
        document.getElementById('sumParells').value = '';
        document.getElementById('sumImparells').value = '';
        document.getElementById('resposta').innerHTML = '';
      }
    </script>
  </body>
</html>
