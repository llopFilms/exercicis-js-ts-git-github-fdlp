<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Mòdul 5 - Exercici 5</title>
</head>
<body>
	
	<!--Has de modificar el programa de les beques (ara el programa només ha de poder donar 5 beques).

	El programa anirà demanant les dades dels alumnes fins que es donin aquestes 5 beques. Un cop el programa hagi assignat les 5 beques s’ha de mostrar per pantalla els noms dels 5 alumnes que tenen beca.-->

	<h2>Concessió de beques</h2>
	
	<input type='button' onClick='beca()' Value='Clica per consultar si tens beca'/>

	<p id="disponibilitat"></p>
	<p id="selecció"></p>

	<script>
	
		function beca(){
			
			//Declaració de variables
			let becats = [];
			let beques = 0;
			let comptador = 5;
			
			while (beques <5){

				//Selecció amb un while. Captació de dadesi comptador
				document.getElementById("disponibilitat").innerHTML = "Beques disponibles: " + comptador;

				let nom = prompt ("Nom i Cognom:","Escriu aquí el teu nom");
				let edat = Number(prompt ("Ens pots indicar la teva edat","edat"));
				let títolUni = (prompt ("Tens titulació Universitària?:","Sí/No"));
				let atur = (prompt ("Estàs en situació d'atur?:","Sí/No"));

				//else if per seleccionar els casos possibles
				if (edat >= 18 && títolUni == "Sí" || títolUni == "sí" || títolUni == "S" || títolUni == "s"){
				alert ("Compleixes els requisits per accedir a una beca donat que ets major d'edat i tens titulació universitària. Felicitats!");
				becats.push(nom);
				beques++;
				comptador--;
				document.getElementById("disponibilitat").innerHTML = "Beques disponibles: " + comptador;
				
				}else if (atur == "Sí" || atur == "sí" || atur == "S" || atur == "s"){
				alert ("Compleixes els requisits per accedir a una beca donat que estàs en situació d'atur. Felicitats!");
				becats.push(nom);
				beques++;
				comptador--;
					
				}else{
				alert ("Ho sentim però no compleixes els requisits per accedir a una beca. Ho sentim!");
				}
			}	

			alert ("Beques concedides! Tot seguit apareix la llista");

			// Enviament dels valors de les dades als id's d'HTML fent un loop for per fer una llista
			let llista = "<ul>", i;

			for (i=0; i<5; i++) {
				llista += "<li>" + becats[i];
			}
			llista += "</ul>";

			document.getElementById("selecció").innerHTML = "Llista de becats:" + llista;
		
		}

	</script>
</body>
</html>