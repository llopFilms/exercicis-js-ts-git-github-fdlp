<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Mòdul 7.3 - Exercici 2</title>
</head>
<body>
    <!--En aquest programa l’usuari ha d’introduir un string i, utilitzant un bucle for, el programa ha de mostrar l’string al revés-->

    <h2>Cadena de caràcters a l'inrevés:</h3>
    <br/>
    <label for="cadena">Introdueix una frase:</label>
    <input type="text" id="cadena" maxlength="100">
    <br/><br/>
    <input type="button" onClick="validacio()" value="Clica aquí"/>
    <input type="button" onClick="netejarCamps()" value="Esborrar camps"/>
    <br/>
    <p id="resultat"></p>
    <p id="avís"></p>
    
    <script>
    "use Strict"
    //Funció que gira el text
    function giraCadena(cadena){

        let i, cadenaReves = "";
        for (i=cadena.length-1; i>=0; i--){
            cadenaReves += cadena[i];        }
        return cadenaReves;
    }

    //Funció principal
    function main(cadena){
        //Gestió amb funcions
        let cadenaReves = giraCadena(cadena);
        //Resultat final
        let resultatCadena = `La cadena resultant a l'inrevés és: <b>${cadenaReves}</b>.`;
        document.getElementById("resultat").innerHTML = resultatCadena;
        document.getElementById("cadena").innerHTML = "";            
    }   

    //Funció Validació
    function validacio(){
        //Esborra pantalla
        document.getElementById("resultat").innerHTML = "";
        document.getElementById("avís").innerHTML = "";
        //Entrada de dades
        let cadena = document.getElementById("cadena").value;
        let validacio = false;                            
        if (cadena == "" || !isNaN(cadena)) {
                validacio;
                document.getElementById("cadena").style.background = "#E6B0AA";
                document.getElementById("cadena").value = "";
                document.getElementById("avís").innerHTML = "<b>Escriviu les dades correctament</b>";
        }else{
                validacio = true;
                document.getElementById("cadena").style.background = "white";
                main(cadena);          
        }
    }

    function netejarCamps() {
      //Esborra pantalla
        document.getElementById("cadena").value = "";
        document.getElementById('cadena').style.background = 'white';
        document.getElementById("resultat").innerHTML = "";
        document.getElementById("avís").innerHTML = "";
    }

    </script>
</body>
</html>
